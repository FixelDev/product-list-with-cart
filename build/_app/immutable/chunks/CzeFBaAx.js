import{a9 as ee,w as $,aa as te,g as se,ab as B,ac as R,ad as Q,e as _,h as p,z as v,ae as q,i as re,j as ie,n as ae,b as g,a as U,af as O,p as k,m as ne,ag as fe,ah as S,ai as D,aj as H,ak as oe,al as G,f as J,am as P,an as he,ao as V,ap as le,aq as de,d as x,q as N,ar as ue,o as ce,as as j,at as _e,E as pe,au as ge,av as ve,aw as ye,ax as F,Q as me,N as K,H as be,O as Ee,ay as Y,t as w,az as we,aA as Te,aB as Re,aC as Se,a3 as De,aD as Ne,aE as Ae,a5 as Oe}from"./CQmEs7Sx.js";import{b as ke}from"./DNHYw16A.js";function xe(s){let e=0,t=Q(0),i;return()=>{ee()&&($(t),te(()=>(e===0&&(i=se(()=>s(()=>B(t)))),e+=1,()=>{R(()=>{e-=1,e===0&&(i?.(),i=void 0,B(t))})})))}}var Fe=pe|ge;function Ye(s,e,t){new Ce(s,e,t)}class Ce{parent;is_pending=!1;#t;#p=p?_:null;#a;#h;#s;#r=null;#e=null;#i=null;#n=null;#l=0;#o=0;#d=!1;#u=new Set;#c=new Set;#f=null;#y=xe(()=>(this.#f=Q(this.#l),()=>{this.#f=null}));constructor(e,t,i){this.#t=e,this.#a=t,this.#h=a=>{var r=v;r.b=this,r.f|=q,i(a)},this.parent=v.b,this.#s=re(()=>{if(p){const a=this.#p;ie(),a.data===ae?this.#b():this.#m()}else this.#g()},Fe),p&&(this.#t=_)}#m(){try{this.#r=g(()=>this.#h(this.#t))}catch(e){this.error(e)}}#b(){const e=this.#a.pending;e&&(this.is_pending=!0,this.#e=g(()=>e(this.#t)),R(()=>{var t=this.#n=document.createDocumentFragment(),i=U();t.append(i),this.#r=this.#_(()=>(O.ensure(),g(()=>this.#h(i)))),this.#o===0&&(this.#t.before(t),this.#n=null,k(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#o=0,this.#l=0,this.#r=g(()=>{this.#h(this.#t)}),this.#o>0){var e=this.#n=document.createDocumentFragment();ne(this.#r,e);const t=this.#a.pending;this.#e=g(()=>t(this.#t))}else this.is_pending=!1}catch(t){this.error(t)}}defer_effect(e){fe(e,this.#u,this.#c)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#a.pending}#_(e){var t=v,i=G,a=J;S(this.#s),D(this.#s),H(this.#s.ctx);try{return e()}catch(r){return oe(r),null}finally{S(t),D(i),H(a)}}#v(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(e);return}if(this.#o+=e,this.#o===0){this.is_pending=!1;for(const t of this.#u)P(t,he),V(t);for(const t of this.#c)P(t,le),V(t);this.#u.clear(),this.#c.clear(),this.#e&&k(this.#e,()=>{this.#e=null}),this.#n&&(this.#t.before(this.#n),this.#n=null)}}update_pending_count(e){this.#v(e),this.#l+=e,!(!this.#f||this.#d)&&(this.#d=!0,R(()=>{this.#d=!1,this.#f&&de(this.#f,this.#l)}))}get_effect_pending(){return this.#y(),$(this.#f)}error(e){var t=this.#a.onerror;let i=this.#a.failed;if(!t&&!i)throw e;this.#r&&(x(this.#r),this.#r=null),this.#e&&(x(this.#e),this.#e=null),this.#i&&(x(this.#i),this.#i=null),p&&(N(this.#p),ue(),N(ce()));var a=!1,r=!1;const n=()=>{if(a){ve();return}a=!0,r&&_e(),this.#i!==null&&k(this.#i,()=>{this.#i=null}),this.#_(()=>{O.ensure(),this.#g()})};R(()=>{try{r=!0,t?.(e,n),r=!1}catch(f){j(f,this.#s&&this.#s.parent)}i&&(this.#i=this.#_(()=>{O.ensure();try{return g(()=>{var f=v;f.b=this,f.f|=q,i(this.#t,()=>e,()=>n)})}catch(f){return j(f,this.#s.parent),null}}))})}}const Ie=["touchstart","touchmove"];function Me(s){return Ie.includes(s)}const E=Symbol("events"),X=new Set,C=new Set;function Pe(s,e,t){(e[E]??={})[s]=t}function Ve(s){for(var e=0;e<s.length;e++)X.add(s[e]);for(var t of C)t(s)}let z=null;function L(s){var e=this,t=e.ownerDocument,i=s.type,a=s.composedPath?.()||[],r=a[0]||s.target;z=s;var n=0,f=z===s&&s[E];if(f){var y=a.indexOf(f);if(y!==-1&&(e===document||e===window)){s[E]=e;return}var c=a.indexOf(e);if(c===-1)return;y<=c&&(n=y)}if(r=a[n]||s.target,r!==e){ye(s,"currentTarget",{configurable:!0,get(){return r||t}});var m=G,b=v;D(null),S(null);try{for(var o,l=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var u=r[E]?.[i];u!=null&&(!r.disabled||s.target===r)&&u.call(r,s)}catch(d){o?l.push(d):o=d}if(s.cancelBubble||h===e||h===null)break;r=h}if(o){for(let d of l)queueMicrotask(()=>{throw d});throw o}}finally{s[E]=e,delete s.currentTarget,D(m),S(b)}}}let W=!0;function je(s,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(s.__t??=s.nodeValue)&&(s.__t=t,s.nodeValue=t+"")}function Be(s,e){return Z(s,e)}function ze(s,e){F(),e.intro=e.intro??!1;const t=e.target,i=p,a=_;try{for(var r=me(t);r&&(r.nodeType!==K||r.data!==be);)r=Ee(r);if(!r)throw Y;w(!0),N(r);const n=Z(s,{...e,anchor:r});return w(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(f=>f.startsWith("https://svelte.dev/e/")))throw n;return n!==Y&&console.warn("Failed to hydrate: ",n),e.recover===!1&&we(),F(),Te(t),w(!1),Be(s,e)}finally{w(i),N(a)}}const T=new Map;function Z(s,{target:e,anchor:t,props:i={},events:a,context:r,intro:n=!0}){F();var f=void 0,y=Re(()=>{var c=t??e.appendChild(U());Ye(c,{pending:()=>{}},o=>{De({});var l=J;if(r&&(l.c=r),a&&(i.$$events=a),p&&ke(o,null),W=n,f=s(o,i)||{},W=!0,p&&(v.nodes.end=_,_===null||_.nodeType!==K||_.data!==Ne))throw Ae(),Y;Oe()});var m=new Set,b=o=>{for(var l=0;l<o.length;l++){var h=o[l];if(!m.has(h)){m.add(h);var u=Me(h);for(const A of[e,document]){var d=T.get(A);d===void 0&&(d=new Map,T.set(A,d));var M=d.get(h);M===void 0?(A.addEventListener(h,L,{passive:u}),d.set(h,1)):d.set(h,M+1)}}}};return b(Se(X)),C.add(b),()=>{for(var o of m)for(const u of[e,document]){var l=T.get(u),h=l.get(o);--h==0?(u.removeEventListener(o,L),l.delete(o),l.size===0&&T.delete(u)):l.set(o,h)}C.delete(b),c!==t&&c.parentNode?.removeChild(c)}});return I.set(f,y),f}let I=new WeakMap;function Le(s,e){const t=I.get(s);return t?(I.delete(s),t(e)):Promise.resolve()}export{W as a,Pe as b,Ve as d,ze as h,Be as m,je as s,Le as u};
